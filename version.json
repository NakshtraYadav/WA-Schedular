{
  "version": "2.5.3",
  "name": "WhatsApp Scheduler",
  "description": "Local WhatsApp message scheduling with Telegram remote control",
  "build": 26,
  "release_date": "2026-02-05",
  "changelog": [
    {
      "version": "2.5.3",
      "date": "2026-02-05",
      "changes": [
        "FIXED: QR code not working on first run after setup",
        "FIXED: start.sh now cleans browser lock files before starting WhatsApp service",
        "FIXED: start.sh now waits longer for WhatsApp service to initialize (40s vs 2s)",
        "FIXED: WhatsApp initialization delayed 3s to avoid MongoDB race condition",
        "IMPROVED: MongoDB connection now retries 3 times on startup",
        "IMPROVED: Orphaned chromium processes cleaned up on service start"
      ]
    },
    {
      "version": "2.5.2",
      "date": "2026-02-05",
      "changes": [
        "FIXED: 'Verify All' contacts timeout issue - was timing out at 30 seconds",
        "IMPROVED: Bulk verification now uses parallel batches (5x faster)",
        "IMPROVED: Extended timeouts to 3 minutes for large contact lists",
        "IMPROVED: Better error messages for timeout and connection issues",
        "IMPROVED: Contacts page now uses shared WhatsApp status for consistency"
      ]
    },
    {
      "version": "2.5.1",
      "date": "2026-02-05",
      "changes": [
        "FIXED: Circular JSON error in getState() - client object no longer exposed",
        "FIXED: Status routes now correctly handle both MongoDB and filesystem sessions",
        "FIXED: Session routes properly clear MongoDB or filesystem based on active storage",
        "FIXED: /session-info endpoint now async and shows correct storage type",
        "IMPROVED: Status endpoint now shows sessionType (MongoDB/Filesystem)"
      ]
    },
    {
      "version": "2.5.0",
      "date": "2026-02-05",
      "changes": [
        "MAJOR: RemoteAuth with MongoDB - sessions now stored in database",
        "FIXED: Sessions persist across restarts, reboots, and unclean shutdowns",
        "ADDED: Automatic fallback to LocalAuth if MongoDB unavailable",
        "ADDED: Session saved event logging for persistence confirmation",
        "IMPROVED: 15-second shutdown timeout for proper session save",
        "IMPROVED: Status endpoint now shows session type (MongoDB/Filesystem)"
      ]
    },
    {
      "version": "2.4.2",
      "date": "2026-02-05",
      "changes": [
        "FIXED: 'Browser already running' error on WSL - now auto-cleans stale locks",
        "FIXED: Verify contacts API body parsing",
        "ADDED: Auto-cleanup of SingletonLock, SingletonCookie, SingletonSocket files",
        "ADDED: Auto-kill orphaned chromium processes on startup",
        "IMPROVED: fix-whatsapp.sh now optionally keeps session (no QR rescan needed)"
      ]
    },
    {
      "version": "2.4.1",
      "date": "2026-02-05",
      "changes": [
        "ADDED: 'Verify All' button on Contacts page to check which contacts are on WhatsApp",
        "ADDED: Status column showing verification status (On WhatsApp / Not Found / Not Verified)",
        "ADDED: Summary cards showing verified vs not found count after verification",
        "IMPROVED: Send button disabled for contacts not on WhatsApp"
      ]
    },
    {
      "version": "2.4.0",
      "date": "2026-02-05",
      "changes": [
        "ADDED: Edit scheduled messages - click pencil icon to modify",
        "ADDED: WhatsApp number verification before adding contacts",
        "ADDED: Verify single number: GET /api/contacts/verify/{phone}",
        "ADDED: Bulk verification: POST /api/contacts/verify-bulk",
        "IMPROVED: Contact creation now validates number is on WhatsApp"
      ]
    },
    {
      "version": "2.3.1",
      "date": "2026-02-05",
      "changes": [
        "FIXED: Update checker now uses git fetch to detect updates (more reliable)",
        "FIXED: Update check from localhost now works same as ./start.sh update",
        "ADDED: Shows number of commits behind when update available"
      ]
    },
    {
      "version": "2.3.0",
      "date": "2026-02-05",
      "changes": [
        "ADDED: Edit scheduled messages (PUT /api/schedules/{id})",
        "ADDED: Get single schedule (GET /api/schedules/{id})",
        "ADDED: QR code auto-refresh every 30 seconds (no more expired QR)",
        "IMPROVED: QR age tracking in status endpoint"
      ]
    },
    {
      "version": "2.2.1",
      "date": "2026-02-05",
      "changes": [
        "FIXED: Session path permission error on local machines",
        "FIXED: Session path now relative to project directory (not /app)",
        "ADDED: Fallback session path if preferred path not writable",
        "FIXED: auto-updater.sh now uses ./start.sh update instead of deprecated ./update.sh"
      ]
    },
    {
      "version": "2.2.0",
      "date": "2026-02-05",
      "changes": [
        "MAJOR: WhatsApp session persistence - sessions now survive restarts",
        "FIXED: Changed session path from relative to absolute",
        "ADDED: Graceful shutdown with 10s timeout for session save",
        "ADDED: Process signal handlers (SIGTERM, SIGINT, SIGHUP)",
        "ADDED: Session validation and corruption detection",
        "ADDED: Auto-reconnect on disconnect",
        "ADDED: Session backup before clear operations",
        "ADDED: /session-info endpoint for persistence status",
        "ADDED: Stale lock file cleanup on startup"
      ]
    },
    {
      "version": "2.1.5",
      "date": "2026-02-05",
      "changes": [
        "FIXED: Update from localhost now works (added REACT_APP_BACKEND_URL)",
        "FIXED: Telegram test button error (apiClient import issue)",
        "FIXED: Version context refresh function naming",
        "FIXED: Diagnostics now finds logs in both direct files and subdirectories"
      ]
    },
    {
      "version": "2.1.4",
      "date": "2026-02-05",
      "changes": [
        "Removed auto-updater from Settings UI",
        "Toast notifications match app dark theme",
        "Simplified update flow - manual updates only"
      ]
    },
    {
      "version": "2.1.3",
      "date": "2026-02-05",
      "changes": [
        "FIXED: Toast notifications now show (switched to Sonner)",
        "FIXED: Logs now visible in Diagnostics page",
        "FIXED: Chromium auto-detection for WhatsApp service",
        "FIXED: Setup script now installs Chromium automatically",
        "Improved error messages and debugging"
      ]
    },
    {
      "version": "2.1.2",
      "date": "2026-02-05",
      "changes": [
        "Added Python virtual environment support for Ubuntu 24.04+",
        "Auto-creates venv in backend/venv folder",
        "Works with externally-managed Python environments",
        "./start.sh setup now creates venv automatically"
      ]
    },
    {
      "version": "2.1.1",
      "date": "2026-02-04",
      "changes": [
        "Seamless UI update - no restart buttons",
        "Click Install Update \u2192 auto pulls \u2192 auto refreshes",
        "Smart detection: only refreshes if frontend changed",
        "WSL file watching fixes with polling mode",
        "Auto-restart frontend if it gets stuck"
      ]
    },
    {
      "version": "2.1.0",
      "date": "2026-02-04",
      "changes": [
        "Simplified update system - single start.sh script",
        "Removed redundant update scripts (update.sh, auto-updater.sh, fast-update.sh)",
        "UI Install Update button now uses fast hot-reload method",
        "Update time reduced from 30-60s to ~3 seconds",
        "WSL optimized for Windows users"
      ]
    },
    {
      "version": "2.0.0.0",
      "date": "2026-02-04",
      "changes": [
        "MAJOR: Complete codebase modularization",
        "Backend: server.py reduced from 1967 to 83 lines",
        "Backend: New structure - core/, models/, routes/, services/, utils/",
        "Backend: 45+ modular files with single responsibility",
        "Frontend: App.js reduced from 235 to 45 lines",
        "Frontend: New modular API layer with 11 domain-specific files",
        "Frontend: Added context providers (Version, WhatsApp)",
        "Frontend: Added custom hooks (useVersion, useWhatsAppStatus)",
        "Frontend: Extracted layout components (Sidebar, Layout)",
        "Frontend: Added shared components (StatusBadge, LoadingSpinner, etc.)",
        "WhatsApp Service: Modularized into src/ structure",
        "Improved code maintainability and scalability"
      ]
    },
    {
      "version": "1.7.0",
      "date": "2026-02-04",
      "changes": [
        "Added /api/schedules/debug - shows scheduler status & jobs",
        "Added /api/schedules/test-run/{id} - manually trigger a schedule",
        "Enhanced logging for schedule creation and execution",
        "Telegram notification when scheduled message is sent",
        "Better error messages for debugging schedule issues"
      ]
    },
    {
      "version": "1.6.0",
      "date": "2026-02-04",
      "changes": [
        "HOT RELOAD: ./update.sh dev - instant code updates",
        "PREFETCH: Download updates in background",
        "GRACEFUL RESTART: No dropped connections"
      ]
    },
    {
      "version": "1.5.0",
      "date": "2026-02-04",
      "changes": [
        "Fast updates using git pull (10-30s vs 2-3min)",
        "Smart restart: Only restarts changed services"
      ]
    },
    {
      "version": "1.3.0",
      "date": "2026-02-04",
      "changes": [
        "Fixed Telegram schedules not executing (now adds to APScheduler)",
        "Telegram /create now uses search instead of numbered list",
        "Added /search command for finding contacts",
        "Improved /contacts to show total count and search hint",
        "Works with 500+ contacts via search-based selection"
      ]
    },
    {
      "version": "1.2.0",
      "date": "2026-02-04",
      "changes": [
        "Fixed update loop issue - frontend no longer gets stuck",
        "Added /contacts endpoint to WhatsApp service for sync",
        "Fixed WhatsApp session persistence on restart",
        "Update now runs detached - survives backend restart",
        "Added Telegram /create command for interactive scheduling",
        "Improved update script with proper service stop/start"
      ]
    },
    {
      "version": "1.1.0",
      "date": "2026-02-04",
      "changes": [
        "Added WhatsApp contact sync feature",
        "Fixed version comparison bug (string vs numeric)",
        "Added rollback support for updates",
        "Improved recurring schedule with custom time picker",
        "Telegram setup instructions auto-hide when configured",
        "Fixed auto-updater timeout issues",
        "Added lock file to prevent concurrent updates"
      ]
    },
    {
      "version": "1.0.0",
      "date": "2026-02-04",
      "changes": [
        "Initial release",
        "WhatsApp Web integration via QR code",
        "Contact management",
        "Message templates",
        "One-time and recurring schedules",
        "Telegram bot remote control",
        "Auto-updater system",
        "Version tracking and update notifications"
      ]
    }
  ],
  "repository": "NakshtraYadav/WA-Schedular",
  "branch": "main",
  "author": "Nakshtra Yadav",
  "license": "MIT"
}